{"version":3,"sources":["images/logo.svg","components/Header.js","components/Card.js","contexts/CurrentUserContext.js","contexts/CurrentCardsContext.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/Api.js","utils/constant.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","href","src","logoPath","alt","Card","props","handleClick","bind","this","handleLikeClick","handleDeleteClick","isOwn","card","owner","_id","currentUser","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onCardClick","onCardLike","setCards","onCardDelete","link","name","onClick","type","length","CurrentUserContext","React","createContext","CurrentCardsContext","Main","userData","useContext","cardsData","CardList","listCards","cards","map","onEditAvatar","avatar","onEditProfile","about","onAddPlace","Footer","PopupWithForm","handleSubmit","setState","submitted","isOpen","onClosePopup","title","onSubmit","children","Component","ImagePopup","apiData","url","token","_url","_token","fetch","headers","authorization","then","res","ok","json","Promise","reject","status","method","body","JSON","stringify","data","idCard","like","EditProfilePopup","useState","setName","description","setDescription","useEffect","onClose","e","preventDefault","onUpdateUser","id","placeholder","required","minLength","maxLength","value","onChange","target","EditAvatarPopup","avatarLink","useRef","current","focus","onUpdateAvatar","ref","AddPlacePopup","namePlace","setNamePlace","linkPlace","setLinkPlace","App","isEditProfilePopupOpen","handleEditProfilePopupOpen","isAddPlacePopupOpen","handleAddPlacePopupOpen","isEditAvatarPopupOpen","handleEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","currentCards","setCurrentCards","closeAllPopups","all","getUserData","getInitialCards","catch","err","console","log","Provider","changeLikeCardStatus","newCard","c","deletedCard","deleteCard","filter","user","setUserData","patchAvatar","postCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3db70eb6.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","// Пути к изображениям внутри сборки\r\nimport logoPath from '../images/logo.svg'; \r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <a href=\"#\" className=\"header__link\"><img src={logoPath} alt=\"Логотип\" className=\"header__logo\"/></a>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nfunction Card(props) {\r\n\r\n  handleClick = handleClick.bind(this);\r\n  handleLikeClick = handleLikeClick.bind(this);\r\n  handleDeleteClick = handleDeleteClick.bind(this);\r\n\r\n  // Определяем, являемся ли мы владельцем текущей карточки\r\n  const isOwn = props.card.owner._id === props.currentUser._id;\r\n\r\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\r\n  const cardDeleteButtonClassName = (\r\n  ` ${isOwn ? 'element__remove-button' : 'element__remove-button_hidden'}`\r\n  ); \r\n\r\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n  const isLiked = props.card.likes.some(i => i._id === props.currentUser._id);\r\n\r\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\r\n  const cardLikeButtonClassName = (\r\n    `element__heart-button  ${isLiked ? 'element__heart-button-active' : ' '}`\r\n  );\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  } \r\n\r\n  function handleLikeClick()  {\r\n    props.onCardLike(props.card, props.currentUser,  props.setCards);\r\n  }\r\n\r\n  function handleDeleteClick()  {\r\n    props.onCardDelete(props.card,  props.setCards);\r\n  }\r\n\r\n  return(\r\n    <article className=\"element\">\r\n      <img src={props.card.link} alt={props.card.name} className=\"element__image\"  onClick={handleClick} />\r\n      <button className={cardDeleteButtonClassName}  type=\"button\" onClick={handleDeleteClick}></button>\r\n      <div className=\"element__title-block\">\r\n        <p className=\"element__title\">{props.card.name}</p>\r\n        <div className=\"element__likes\">\r\n          <button className={cardLikeButtonClassName}  type=\"button\" onClick={handleLikeClick}></button>\r\n          <p className=\"element__likes-number\">{props.card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Card; ","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\n\r\nexport const CurrentCardsContext = React.createContext();","import React from 'react'; \r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport {CurrentCardsContext}  from '../contexts/CurrentCardsContext'\r\n\r\nfunction Main(props) {\r\n\r\n   // Подписываемся на контекст CurrentUserContext\r\n  const userData = React.useContext(CurrentUserContext);\r\n  // Подписываемся на контекст CurrentCardsContext\r\n  const cardsData = React.useContext(CurrentCardsContext);\r\n\r\n  function CardList(props) {\r\n    const cards = props.cards;\r\n    const listCards = cards.map((card) =>\r\n      <Card card={card} onCardClick={props.onCardClick} key={card._id} \r\n        currentUser={userData} onCardLike={props.onCardLike} setCards={props.setCards}\r\n        onCardDelete={props.onCardDelete}/>\r\n    );\r\n    return (\r\n      <section className=\"elements\">\r\n        {listCards}\r\n      </section>\r\n    );  \r\n  }\r\n\r\n  return (\r\n    <main>\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar-conteiner\">\r\n          <div className=\"profile__avatar-overlay\" onClick={props.onEditAvatar}></div>\r\n          <img src={userData.avatar} alt={userData.name} className=\"profile__avatar\"  />\r\n          <button className=\"profile__avatar-button\" onClick={props.onEditAvatar}></button>\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__title-block\">\r\n            <h1 className=\"profile__title\">{userData.name}</h1>\r\n            <button className=\"profile__edit-button\" type=\"button\"  onClick={props.onEditProfile}></button>\r\n          </div>\r\n          <p className=\"profile__text\">{userData.about}</p>\r\n        </div>\r\n        <button className=\"profile__add-button\" type=\"button\"  onClick={props.onAddPlace}></button>\r\n      </section>\r\n     <CardList cards={cardsData} onCardClick={props.onCardClick} onCardLike={props.onCardLike} setCards={props.setCards} onCardDelete={props.onCardDelete}/>  \r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n\r\n","function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__text\">&copy; 2021 Daria Kamenskaya</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nclass PopupWithForm extends React.Component {\r\n\r\n  handleSubmit = () => {\r\n    this.setState({ submitted: true });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <section className={`popup popup-${this.props.name} ${this.props.isOpen ? 'popup_is-opened' : ''}`} >\r\n        <div className={`popup__content popup__content_${this.props.name}`} >\r\n          <button className={`popup__close popup__close-${this.props.name}`}  type=\"button\" onClick={this.props.onClosePopup}></button>\r\n          <h3 className=\"popup__title\">{this.props.title}</h3>\r\n          <form className={`popup__form popup__form_${this.props.name}`} name=\"submit-user\" onSubmit={this.props.onSubmit}>\r\n            {this.props.children} \r\n          </form>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PopupWithForm; ","import React from 'react';\r\n\r\nclass ImagePopup extends React.Component {\r\n\r\n  render() {\r\n    if (this.props.card !== null ) { \r\n      return (\r\n        <section className=\"popup popup_img popup_is-opened\">\r\n          <div className=\"popup__content popup__content_img\" >\r\n            <button className=\"popup__close popup__close_img\" type=\"button\" onClick={this.props.onClosePopup}></button>\r\n            <img src={this.props.card.link} alt={this.props.card.name} className=\"popup__image\" /> \r\n            <h3 className=\"popup__title popup__title_img\">{this.props.card.name}</h3> \r\n          </div>\r\n        </section>\r\n      );\r\n     } else {\r\n        // для плавного открытия попапа\r\n        return (\r\n          <section className=\"popup popup_img\"></section>\r\n        );\r\n    } \r\n  }\r\n}\r\n\r\nexport default ImagePopup; ","import { \r\n  baseUrl,\r\n  baseToken } from \"../utils/constant\";\r\n\r\n// класс для работы с сервером\r\n class API {\r\n\r\n  constructor(url,token) {\r\n    this._url = url;\r\n    this._token = token;\r\n  }\r\n\r\n  // метод инициализации карточек\r\n  getInitialCards() {\r\n    return fetch(`${this._url}/cards`, {\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n    .then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n    // отклоняем промис, чтобы перейти в блок catch, если сервер вернул ошибку\r\n      return Promise.reject(`Что-то пошло не так: ${res.status}`);\r\n    });\r\n  }\r\n\r\n    // метод инициализации данных пользователя\r\n  getUserData() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n    .then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n    // отклоняем промис, чтобы перейти в блок catch, если сервер вернул ошибку\r\n      return Promise.reject(`Что-то пошло не так: ${res.status}`);\r\n    });\r\n  }\r\n\r\n    // сохранение на сервере отредактированных данных пользователя\r\n  setUserData({name, about}) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({name, about})\r\n    })\r\n    .then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n    // отклоняем промис, чтобы перейти в блок catch, если сервер вернул ошибку\r\n      return Promise.reject(`Что-то пошло не так: ${res.status}`);\r\n    }); \r\n  }\r\n\r\n    // добавление на сервере новой карточки\r\n  postCard(data) {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link\r\n      })\r\n    })\r\n    .then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n    // отклоняем промис, чтобы перейти в блок catch, если сервер вернул ошибку\r\n      return Promise.reject(`Что-то пошло не так: ${res.status}`);\r\n    }); \r\n  }\r\n\r\n  // метод удаления карточек\r\n  deleteCard(idCard) {\r\n    return fetch(`${this._url}/cards/${idCard}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n    .then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n    // отклоняем промис, чтобы перейти в блок catch, если сервер вернул ошибку\r\n      return Promise.reject(`Что-то пошло не так: ${res.status}`);\r\n    });\r\n  }\r\n\r\n  // ставим лайк карточке\r\n  changeLikeCardStatus(idCard,like){\r\n    return fetch(`${this._url}/cards/likes/${idCard}`, {\r\n      method: like ? 'DELETE' : 'PUT',\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n    .then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n    }\r\n    // отклоняем промис, чтобы перейти в блок catch, если сервер вернул ошибку\r\n      return Promise.reject(`Что-то пошло не так: ${res.status}`);\r\n    });\r\n  }\r\n\r\n  // метод получения данных карточки\r\n  getCard(idCard) {\r\n    return fetch(`${this._url}/cards/${idCard}`, {\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n    .then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n    // отклоняем промис, чтобы перейти в блок catch, если сервер вернул ошибку\r\n      return Promise.reject(`Что-то пошло не так: ${res.status}`);\r\n    });\r\n  }\r\n\r\n  // метод для обновления аватара пользователя\r\n  patchAvatar(data) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: data.avatar\r\n      })\r\n    })\r\n    .then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n    // отклоняем промис, чтобы перейти в блок catch, если сервер вернул ошибку\r\n      return Promise.reject(`Что-то пошло не так: ${res.status}`);\r\n    });\r\n  }\r\n}\r\n\r\n// экземпляр класса для работы с сервером\r\n// API для получение данных\r\nexport const apiData = new API(baseUrl,baseToken);\r\n","export const baseUrl = 'https://mesto.nomoreparties.co/v1/cohort-28';\r\nexport const baseToken = 'c9a5b46a-18cc-468c-aca5-c21309b709fb';","import React from 'react';\r\nimport PopupWithForm from '../components/PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n  // Стейт, в котором содержится значение инпута\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n  // Подписка на контекст\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  // После загрузки текущего пользователя из API\r\n  // его данные будут использованы в управляемых компонентах.\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]); \r\n\r\n  // Обработчик изменения инпута обновляет стейт\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    // Запрещаем браузеру переходить по адресу формы\r\n    e.preventDefault();\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  } \r\n\r\n  return(\r\n    <PopupWithForm name=\"user\" title=\"Редактировать профиль\" isOpen={props.isOpen}  onClosePopup={props.onClose} onSubmit={handleSubmit} onUpdateUser={props.onUpdateUser}>\r\n    <label className=\"popup__form-field\">\r\n      <input type=\"text\" id=\"name-input\" className=\"popup__input popup__input_type_name\"  placeholder=\"Имя\" \r\n             name=\"name\" required minLength=\"2\" maxLength=\"40\" value={name} onChange={handleChangeName}/>\r\n      <span id=\"name-input-error\" className=\"popup__input-error\"></span>\r\n    </label>\r\n    <label className=\"popup__form-field\">\r\n      <input type=\"text\" id=\"work-input\"  placeholder=\"О себе\" className=\"popup__input popup__input_type_work\" \r\n             name='about' required minLength='2'  maxLength='200' value={description} onChange={handleChangeDescription}/>\r\n      <span id=\"work-input-error\" className=\"popup__input-error\"></span>\r\n    </label>\r\n    <button className=\"popup__submit-btn popup__submit-btn_edit\"  type=\"submit\">\r\n      Сохранить\r\n    </button>\r\n  </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup; ","import React from 'react';\r\nimport PopupWithForm from '../components/PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n  // Подписка на контекст\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  // avatar должна быть объявлена здесь, чтобы реф мог иметь к ней доступ\r\n  const avatarLink = React.useRef('');\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    avatarLink.current.focus(); \r\n    currentUser.avatar = avatarLink.current.value;\r\n    props.onUpdateAvatar(currentUser);\r\n  } \r\n\r\n  return(\r\n    <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" isOpen={props.isOpen}  onClosePopup={props.onClose} onSubmit={handleSubmit} onUpdateAvatar={props.onUpdateAvatar}>\r\n    <label className=\"popup__form-field\">\r\n      <input ref={avatarLink} type=\"url\" id=\"url-input_avatar\" placeholder=\"Ссылка на картинку\" \r\n             className=\"popup__input popup__input_type_avatar-img\" name='link' \r\n              required />\r\n      <span id=\"url-input_avatar-error\" className=\"popup__input-error\"></span>\r\n    </label>\r\n    <button className=\"popup__submit-btn popup__submit-btn_avatar\"  type=\"submit\"> \r\n      Сохранить\r\n    </button>\r\n  </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup; ","import React from 'react';\r\nimport PopupWithForm from '../components/PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport {CurrentCardsContext}  from '../contexts/CurrentCardsContext'\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n  // Подписка на контекст\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n // Подписываемся на контекст CurrentCardsContext\r\n  const cardsData = React.useContext(CurrentCardsContext);\r\n // Стейт, в котором содержится значение инпута\r\n  const [namePlace, setNamePlace] = React.useState('');\r\n  const [linkPlace, setLinkPlace] = React.useState('');\r\n\r\n  // Обработчик изменения инпута обновляет стейт\r\n  function handleChangeNamePlace(e) {\r\n    setNamePlace(e.target.value);\r\n  }\r\n    \r\n  function handleChangeLinkPlace(e) {\r\n    setLinkPlace(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    // Запрещаем браузеру переходить по адресу формы\r\n    e.preventDefault();\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    props.onAddPlace({\r\n      name: namePlace,\r\n      link: linkPlace\r\n    }, cardsData);\r\n  } \r\n\r\n  return(\r\n    <PopupWithForm name=\"add\" title=\"Новое место\"  isOpen={props.isOpen}  onClosePopup={props.onClose} onSubmit={handleSubmit}>\r\n      <label className=\"popup__form-field\">\r\n        <input type=\"text\" id=\"place-input\"  placeholder=\"Название\" className=\"popup__input popup__input_type_place-name\" \r\n               name='name' required minLength=\"2\" maxLength=\"30\" value={namePlace} onChange={handleChangeNamePlace} />\r\n        <span id=\"place-input-error\" className=\"popup__input-error\"></span>\r\n      </label>\r\n      <label className=\"popup__form-field\">\r\n        <input type=\"url\" id=\"url-input\" placeholder=\"Ссылка на картинку\" className=\"popup__input popup__input_type_place-img\" \r\n               name='link' value={linkPlace} onChange={handleChangeLinkPlace} required />\r\n        <span id=\"url-input-error\" className=\"popup__input-error\"></span>\r\n      </label>\r\n      <button className=\"popup__submit-btn popup__submit-btn_add\"  type=\"submit\"> \r\n        Создать\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup; ","import React from 'react';\n// Импорт модулей\nimport Header from '../components/Header';\nimport Main from '../components/Main';\nimport Footer from '../components/Footer';\nimport PopupWithForm from '../components/PopupWithForm';\nimport ImagePopup from '../components/ImagePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport  {apiData}  from '../utils/Api';\nimport {CurrentCardsContext}  from '../contexts/CurrentCardsContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup'\nimport AddPlacePopup from './AddPlacePopup'\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, handleEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, handleAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, handleEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [currentCards, setCurrentCards] = React.useState([]);\n\n  function handleEditAvatarClick() {\n    handleEditAvatarPopupOpen(true);\n  };\n\n  function handleEditProfileClick() {\n    handleEditProfilePopupOpen(true);\n  };\n\n  function handleAddPlaceClick() {\n    handleAddPlacePopupOpen(true);\n  };\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  };\n\n  function closeAllPopups() {\n    handleEditAvatarPopupOpen(false);\n    handleEditProfilePopupOpen(false);\n    handleAddPlacePopupOpen(false);\n    setSelectedCard(null);\n  };\n\n  function handleUpdateUser(user) {\n    apiData.setUserData(user)\n    .then((res) => {\n      setCurrentUser(res);\n      closeAllPopups();\n    })\n    .catch((err) => {\n      console.log(err); // \"Что-то пошло не так: ...\"\n      return [];\n    })\n  };\n\n  function handleUpdateAvatar(avatar) {\n    apiData.patchAvatar(avatar)\n    .then((res) => {\n      setCurrentUser(res);\n      closeAllPopups();\n    })\n    .catch((err) => {\n      console.log(err); // \"Что-то пошло не так: ...\"\n      return [];\n    })\n  };\n\n  function handleCardLike(card, currentUser, setCurrentCards) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    apiData.changeLikeCardStatus(card._id, isLiked, setCurrentCards)\n    .then((newCard) => {\n      setCurrentCards((cardsData) => cardsData.map((c) => c._id === card._id ? newCard : c));\n    })\n    .catch((err) => {\n      console.log(err);\n      return [];\n    });\n    \n  } \n\n  function handleCardDelete(deletedCard, setCurrentCards) {\n    // Отправляем запрос в API\n    apiData.deleteCard(deletedCard._id)\n    .then(() => {\n      setCurrentCards((cardsData) => cardsData.filter((c) => {return c._id != deletedCard._id }));\n    })\n    .catch((err) => {\n      console.log(err); // \"Что-то пошло не так: ...\"\n      return [];\n    });\n  } \n\n  function handleAddPlaceSubmit(newCard, currentCards) {\n    apiData.postCard(newCard)\n    .then((res) => {\n      // Создадим экземпляр карточки\n      setCurrentCards([res, ...currentCards]); \n      closeAllPopups();\n    })\n    .catch((err) => {\n      console.log(err); // \"Что-то пошло не так: ...\"\n      return [];\n    });\n  } \n\n  React.useEffect(() => {\n    // запрос в API за пользовательскими данными\n    Promise.all([ \n    apiData.getUserData(),\n    apiData.getInitialCards()\n    ])\n    .then((res) => {\n      setCurrentUser(res[0]);\n      setCurrentCards(res[1])\n    })\n    .catch((err) => {\n      console.log(err); // \"Что-то пошло не так: ...\"\n      return [];\n    })\n  }, []);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header />\n        <CurrentCardsContext.Provider value={currentCards}>\n          <Main onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} \n                onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} \n                setCards={setCurrentCards} onCardLike={handleCardLike} onCardDelete={handleCardDelete}/>\n          <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}/> \n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/> \n          <AddPlacePopup   isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit}/> \n        </CurrentCardsContext.Provider>\n        <Footer />\n        <ImagePopup  card={selectedCard}  onClosePopup={closeAllPopups}/>\n        <PopupWithForm name=\"delete\" title=\"Вы уверены?\"  onClosePopup={closeAllPopups}>\n          <button className=\"popup__submit-btn popup__submit-btn_delete\"  type=\"submit\">\n            Да\n          </button> \n        </PopupWithForm>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}